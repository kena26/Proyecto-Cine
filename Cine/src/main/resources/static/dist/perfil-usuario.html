<!-- index.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="output.css">
    <link rel="icon" href="\Cine\src\main\resources\static\dist\assets\icon\favicon.ico">
    <title>Perfil de Usuario</title>
</head>
<body>

    <body class="bg-cover bg-center h-screen bg-[#412c19] bg-blend-soft-light" style="background-image: url('./assets/img/zyro-image\ \(2\).png');">
        <!--HEADER-->
        <header>
            <!--nav principal-->
            <nav class="bg-black max-sm:hidden">
                <ul class="flex justify-end">
                    <li><a href="./home.html" class="text-white mr-16 text-xl">Inicio</a></li>
                    <li><a href="#" class="text-white mr-16 text-xl" onclick="window.location.href='./busqueda.html'">Peliculas</a></li>
                    <li><a href="#" class="text-white mr-16 text-xl">Cartelera</a></li>
                </ul>
            </nav>
            <!--seccion del logo-->
            <section
                class="bg-gradient-to-b from-[#9C6D46] to-[#684A31] flex justify-between px-5 py-0 items-center w-full max-sm:px-0">
                <div class="cursor-pointer">
                    <img src="/Cine/src/main/resources/static/dist/assets/img/logo.png" alt=""
                        class="w-auto h-12 max-sm:h-10 max-sm:w-auto">
                </div>
                <div
                    class="user-container flex items-center w-44 h-12 justify-center relative space-x-2 max-sm:m-0 max-sm:space-x-0 max-sm:w-32">
                    <div onclick="window.location.href='./perfil-usuario.html'" class="ml-4 cursor-pointer max-sm:ml-0">
                        <img src="/Cine/src/main/resources/static/dist/assets/icon/usuario.png"
                            class="w-auto h-10 max-sm:h-10">
                    </div>
                    <div class="flex max-sm:hidden">
                        <div class="cursor-pointer">
                            <p id="nombreNavBar" class="text-lg font-semibold">Username</p>
                            <p class="text-lg font-semibold" id="apellidoNavBar"></p>
                        </div>
                        <div onclick="userLogged()" class="absolute right-0 bottom-3 cursor-pointer ">
                            <svg class="w-5 h-5 ml-2 -mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7">
                                </path>
                            </svg>
                        </div>
                    </div>
                    <div id="guest-slide"
                        class="absolute w-52 h-44 bg-white top-12 right-[-10px] z-50 rounded-lg text-center hidden">
                        <p class="mt-2">Inicie Sesión en Filmania</p>
                        <button onclick="window.location.href='./inicio-sesion.html'"
                            class="mt-2 bg-[#996c45] w-40 py-2 rounded-full font-bold">Inicie Sesión</button>
                        <p class="mt-2">o</p>
                        <button onclick="window.location.href='./registro.html'"
                            class="mt-2 bg-[#996c45] w-40 py-2 rounded-full font-bold">Registrese</button>
                    </div>
                    <div id="user-slide"
                        class="absolute w-52 h-44 bg-white top-12 right-[-10px] z-50 rounded-lg hidden text-center">
                        <p class="mt-2">Bienvenido a Filmania</p>
                        <button onclick="window.location.href='./inicio-sesion.html'"
                            class="mt-4 bg-[#996c45] w-40 py-2 rounded-full font-bold">Perfil</button>
                        <button onclick="window.location.href='./registro.html'"
                            class="mt-4 bg-[#996c45] w-40 py-2 rounded-full font-bold">Cerrar Sesión</button>
                    </div>
                </div>
            </section>
        </header>

        <main>
            <section id="selector" class="absolute h-full w-full flex" style="display: none; z-index: 1;">
                <div class="absolute bg-black rounded-3xl items-center" style="width:810px; height:410px; top: 5%; left: 20%;">
                    <div class="absolute bg-[#9C6D46] rounded-3xl" style="width:800px; height:400px; top: 5px; left: 5px;">
                        <div class="text-center" style="height: 25px; margin: 10px;">
                            <h1 class="font-serif text-xl">ELIGI TU FOTO DE PERFIL</h1>
                        </div>
                        <div class="flex">
                            <img src="/Cine/src/main/resources/static/dist/assets/icon/servicio-al-cliente.png" class="rounded-full h-20 w-20 cursor-pointer" style="margin: 15px;" onclick="cambiarFotoPerfil(this)">
                            <img src="/Cine/src/main/resources/static/dist/assets/icon/usuario.png" class="rounded-full h-20 w-20 cursor-pointer" style="margin: 15px;" onclick="cambiarFotoPerfil(this)">
                            <img src="/Cine/src/main/resources/static/dist/assets/icon/user-icon-profile.png" class="rounded-full h-20 w-20 cursor-pointer" style="margin: 15px;" onclick="cambiarFotoPerfil(this)">
                        </div>
                        
                    </div>
                    <div>
                        <button class="absolute text-white bg-stone-500 hover:bg-red-600 rounded-2xl h-10 w-28" style="top: 350px; left: 350px;" onclick="cerrarSelector()">Cancelar</button>
                    </div>
                </div>
            </section>
            <section class="mx-auto p-5 w-90 flex space-x-2 items-stretch" style="height: 475px; justify-content: center;">
                <div class="w-1/4 h-full bg-gray-300 bg-opacity-40 rounded-3xl flex">
                    <div style="width: 320px;">
                        <div class="w-full flex" style="margin-top: 10px;">
                            <img src="/Cine/src/main/resources/static/dist/assets/icon/user-icon-profile.png" id="fotoperfil" class="absolute rounded-full h-20 w-20" style="margin-left: 2%;">
                            <div class="relative w-full" style="margin-left: 20%; margin-top: 45px;">
                                    <a onclick="mostrarSelector()">
                                        <img class="rounded-full h-10 w-10 cursor-pointer" src="/Cine/src/main/resources/static/dist/assets/icon/camara.jpg">
                                    </a>
                            </div>
                            <h1 class="font-serif font-bold text-xl absolute" style="margin-left: 140px; margin-top: 45px;">Usuario (Admin)</h1>
                        </div>
                        <div class="font-serif relative mt-10">
                            <h1 class="font-bold text-xl mb-2" style="margin-left: 45px;"> - Datos Personales - </h1>
                            <div class="font-bold w-full font-serif text-sm" style="margin-left: 45px;">
                                <h1 class="text-xl mb-2">DATOS GENERALES</h1>
                                    <p class="text-sm py-1">Nombre: <span id="nombreDatos"></span></p>
                                    <p class="text-sm py-1">Apellido: <span id="apellidoDatos"></span></p>
                                    <p class="text-sm py-1">Fecha de Nacimiento: <span id="fechaNacimiento"></span></p>
                                    <p class="text-sm py-1">Email: <span id="email"></span></p>
                                    <p class="text-sm py-1">Teléfono: <span id="telefono"></span></p>
                            </div>
                            <div class="flex space-x-3" style="margin-left: 25px; margin-top: 55px;">
                                <div style="margin-right: 5px;">
                                    <button class=" text-black bg-gray-300 rounded-2xl h-10 w-28">Actualizar</button>
                                </div>
                                <div style="margin-right: 5px;">
                                    <button id="cerrarSesionBtn" class=" text-black bg-gray-300 rounded-2xl h-10 w-28">Cerrar Sesion</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                 <section id="Peliculas" >
                        <div class="h-full bg-gray-300 bg-opacity-40 rounded-3xl flex flex-col space-y-3" style="margin-left: 40px; width: 800px;">
                        <div>
                            <h1 class="text-white font-bold text-3xl ml-11 mt-4">Peliculas Vistas</h1>
                        </div>
                        <div class="flex items-center justify-center space-x-3">
                            <div>
                                <img src="./assets/img/img-home/carrusel1.png" alt="" class="w-[231px] h-[130px] object-cover">
                                <p class="text-white text-center font-bold">CARS</p>
                            </div>
                            <div>
                                <img src="./assets/img/img-home/carrusel1.png" alt="" class="w-[231px] h-[130px] object-cover">
                                <p class="text-white text-center font-bold">INCEPTION</p>
                            </div>
                            <div>
                                <img src="./assets/img/img-home/carrusel1.png" alt="" class="w-[231px] h-[130px] object-cover">
                                <p class="text-white text-center font-bold">OPPENHEIMER</p>
                            </div>
                        </div>
                        <div class="flex items-center justify-center space-x-3">
                            <div>
                                <img src="./assets/img/img-home/carrusel2.jpg" alt="" class="w-[231px] h-[130px] object-cover">
                                <p class="text-white text-center font-bold">AKIRA</p>
                            </div>
                            <div>
                                <img src="./assets/img/img-home/carrusel2.jpg" alt="" class="w-[231px] h-[130px] object-cover">
                                <p class="text-white text-center font-bold">PRINCESS MONONOKE</p>
                            </div>
                            <div>
                                <img src="./assets/img/img-home/carrusel2.jpg" alt="" class="w-[231px] h-[130px] object-cover">
                                <p class="text-white text-center font-bold">STAR WARS ROGUE ONE</p>
                            </div>
                        </div>
                        <div class="flex justify-center items-center">
                            <button class="text-2xl">
                                VER MÁS
                            </button>
                        </div>
                    </div>
                </section> 
                <section style="display: none;" id="reporte">
                <div class="h-full bg-gray-300 bg-opacity-40 rounded-3xl" style="margin-left: 40px; width: 800px;">
                <div class="text-xl font-serif font-bold h-full flex space-x-3 justify-center items-center">
                    <div class="w-80 bg-white rounded-3xl text-center" style="height: 335px;">
                        <img class="relative h-64 w-64" style="left: 32px;" src="/Cine/src/main/resources/static/dist/assets/img/WhatsApp_Image_2023-11-04_at_1.04.33_PM-transformed-removebg-preview.png">
                        <p>Reportes</p>
                    </div>
                    <div class="w-80 bg-white rounded-3xl text-center" style="height: 335px;">
                        <img class="relative h-64 w-64" style="left: 32px;" src="/Cine/src/main/resources/static/dist/assets/img/formulario (1).png">
                        <p>Formulario</p>
                    </div>
                </div>
                </div>
            </section>
            </section>
        </main>

        <!-- Fin de contenido -->

        <footer class="bg-gradient-to-b from-[#9C6D46] to-[#684A31] py-5 mt-5 w-full relative z-50">
            <div id="footerItems" class="max-sm:pr-0">
                <div class="flex pl-36 max-sm:pl-3 space-x-3">
                    <div class="space-y-1">
                        <div class="flex items-center">
                            <img src="/Cine/src/main/resources/static/dist/assets/icon/ayudar.png" class="w-4 mr-3" >
                            <a href="#" class="text-white max-sm:text-sm">Preguntas Frecuentes</a>
                        </div>
                        <div class="flex items-center">
                            <img src="/Cine/src/main/resources/static/dist/assets/icon/seguro.png" class="w-4 mr-3" >
                            <a href="#" class="text-white max-sm:text-sm">Politicas de la Empresa</a>
                        </div>
                        <div class="flex items-center">
                            <img src="/Cine/src/main/resources/static/dist/assets/icon/apoyo (1).png" class="w-4 mr-3" >
                            <a href="#" class="text-white max-sm:text-sm">Atencion al Cliente</a>
                        </div>
                    </div>
                    <div class="space-y-1">
                        <div class="flex items-center">
                            <img src="/Cine/src/main/resources/static/dist/assets/icon/grupo.png" class="w-4 mr-3" >
                            <a href="#" class="text-white max-sm:text-sm">Creadores de la página</a>
                        </div>
                        <div class="flex items-center">
                            <img src="/Cine/src/main/resources/static/dist/assets/icon/seguridad.png" class="w-4 mr-3" >
                            <a href="#" class="text-white max-sm:text-sm">Politicas de Privacidad</a>
                        </div>  
                    </div>
                </div>
            </div>
            <div class="flex absolute top-3 right-16 max-sm:top-20 space-x-1"> 
                <a href="">
                    <img src="/Cine/src/main/resources/static/dist/assets/icon/facebook.png" class="w-8 h-8" >
                </a>
                <a href="">
                    <img src="/Cine/src/main/resources/static/dist/assets/icon/instagram.png" class="w-8 h-8" >
                </a>
                <a href="">
                    <img src="/Cine/src/main/resources/static/dist/assets/icon/tik-tok.png" class="w-8 h-8" >
                </a>
            </div>
        </footer>
        <script src="./assets/js/header.js"></script>
        <script src="./assets/js/perfil_admin.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const usuarioDataString = sessionStorage.getItem('usuarioData');
        
                if (usuarioDataString) {
                    const usuarioData = JSON.parse(usuarioDataString);
        
                    document.getElementById('nombreNavBar').innerText = usuarioData.nombre;
                    document.getElementById('apellidoNavBar').innerText = usuarioData.apellido;
        
                    document.getElementById('nombreDatos').innerText = usuarioData.nombre;
                    document.getElementById('apellidoDatos').innerText = usuarioData.apellido;
                    document.getElementById('fechaNacimiento').innerText = usuarioData.fechaNacimiento;
        
                    if (usuarioData.email) {
                        document.getElementById('email').innerText = usuarioData.email;
                    } else {
                        console.error('Error: El campo "email" en usuarioData está vacío o undefined.');
                    }
        
                    document.getElementById('telefono').innerText = usuarioData.telefono;
        
                    console.log('Datos del usuario:', usuarioData);
        
                    
                    if (usuarioData.tipoUsuario === "Admin") {
                        
                        document.getElementById('reporte').style.display = 'block';
                        document.getElementById('Peliculas').style.display = 'none';
                    } else {
                        
                        document.getElementById('Peliculas').style.display = 'block';
                    }
        
                } else {
                    console.error('Error: Datos del usuario no encontrados en sessionStorage');
                }
        
                const cerrarSesionBtn = document.getElementById('cerrarSesionBtn');
                cerrarSesionBtn.addEventListener('click', function () {
                    
                    sessionStorage.removeItem('usuarioData');
                    
                    window.location.href = './index.html';
                });
            });
        </script>
</body>
</html>
